<form
  id="contact-form"
  action="https://formsubmit.co/07a3501359c9a5a9c12cfe64dfb1a7f6"
  method="POST"
  class="flex flex-col gap-4"
>
  <input type="hidden" name="_captcha" value="false" />
  <input type="hidden" name="_next" value="https://portfolio27may25.netlify.app/" />

  <input type="text" name="from_name" placeholder="Name" required />
  <input type="email" name="reply_to" placeholder="Email" required />
  <textarea name="message" placeholder="Message" required></textarea>
  <button type="submit">Submit</button>
</form>

<script type="module" is:inline>
  const form = document.getElementById("contact-form");

  form.addEventListener("submit", async (e) => {
    e.preventDefault(); // evita que se recargue la página
    const formData = new FormData(form);

    try {
      const response = await fetch(form.action, {
        method: "POST",
        body: formData,
        headers: { Accept: "application/json" },
      });

      if (response.ok) {
        alert("✅ ¡Tu mensaje fue enviado con éxito!");
        form.reset();
      } else {
        alert("❌ Error al enviar. Intenta más tarde.");
      }
    } catch (error) {
      alert("❌ Error de conexión. Intenta más tarde.");
    }
  });
</script>
